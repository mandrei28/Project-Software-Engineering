<div>
  <h1 id="text">Your Account</h1>

  <mat-accordion class="example-headers-align">
    <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Account name
        </mat-panel-title>
        <mat-panel-description>
          Change your name
        </mat-panel-description>
      </mat-expansion-panel-header>

      <mat-form-field class="example-full-width">
        <mat-label>New Name</mat-label>
        <input
          matInput
          [formControl]="nameFormControl"
          placeholder="Ex. Marcu Andrei Cristian"
        />
        <mat-error *ngIf="nameFormControl.hasError('required')">
          Name is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-action-row>
        <button mat-button color="primary" (click)="newName()">Submit</button>
      </mat-action-row>
    </mat-expansion-panel>

    <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Account email address
        </mat-panel-title>
        <mat-panel-description>
          Change your email address
        </mat-panel-description>
      </mat-expansion-panel-header>

      <mat-form-field class="example-full-width">
        <mat-label>New Email</mat-label>
        <input
          matInput
          [formControl]="emailFormControl"
          placeholder="Ex. pat@example.com"
        />
        <mat-error
          *ngIf="
            emailFormControl.hasError('email') &&
            !emailFormControl.hasError('required')
          "
        >
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-action-row>
        <button mat-button color="primary" (click)="newEmail()">
          Submit
        </button>
      </mat-action-row>
    </mat-expansion-panel>
    <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Account password
        </mat-panel-title>
        <mat-panel-description>
          Change your password
        </mat-panel-description>
      </mat-expansion-panel-header>

      <mat-form-field class="example-full-width">
        <mat-label>Current Password</mat-label>
        <input
          matInput
          type="password"
          [formControl]="currentPasswordFormControl"
          placeholder="Ex. password123"
        />
        <mat-error
          *ngIf="
            currentPasswordFormControl.hasError('minlength') &&
            !currentPasswordFormControl.hasError('required')
          "
        >
          The password should have at least 8 characters.
        </mat-error>
        <mat-error *ngIf="currentPasswordFormControl.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>New Password</mat-label>
        <input
          matInput
          type="password"
          [formControl]="passwordFormControl"
          placeholder="Ex. password123"
        />
        <mat-error
          *ngIf="
            passwordFormControl.hasError('minlength') &&
            !passwordFormControl.hasError('required')
          "
        >
          The password should have at least 8 characters.
        </mat-error>
        <mat-error *ngIf="passwordFormControl.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-action-row>
        <button mat-button color="primary" (click)="newPassword()">
          Submit
        </button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>
</div>
